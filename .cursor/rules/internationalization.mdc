---
alwaysApply: true
---

# Sistema de Internacionalizaci√≥n (i18n)

## üåç Reglas CR√çTICAS

1. **SIEMPRE consultar** `/docs/i18n/` antes de modificar i18n
2. **NUNCA hardcodear** texto en espa√±ol o ingl√©s en componentes
3. **USAR traducciones** de `src/i18n/ui.ts`
4. **Contenido multiidioma** DEBE tener `lang` y `translationKey`

## üìö Documentaci√≥n Completa

- **Visi√≥n general**: `/docs/i18n/i18n-overview.md`
- **Gu√≠a de contenido**: `/docs/i18n/i18n-content-guide.md`
- **API Reference**: `/docs/i18n/i18n-api-reference.md`

## üéØ Configuraci√≥n

```javascript
// astro.config.mjs
i18n: {
  locales: ["es", "en"],
  defaultLocale: "es",
  routing: {
    prefixDefaultLocale: false,     // Sin /es/ en URLs
    redirectToDefaultLocale: false,
  },
  fallback: { en: "es" }  // Fallback a espa√±ol
}
```

## üîß Traducir Componentes

### Astro Components

```astro
---
import { useTranslations } from '@/i18n/utils';

const lang = Astro.currentLocale || 'es';
const t = useTranslations(lang);
---

<h1>{t('home.title')}</h1>
<p>{t('home.description')}</p>
```

### React Components

```tsx
import { t, type Language } from '@/i18n/translations';

function Component({ currentLocale = 'es' }: Props) {
  const translate = t(currentLocale as Language);
  
  return (
    <div>
      <h1>{translate('nav.home')}</h1>
      <p>{translate('nav.work')}</p>
    </div>
  );
}
```

## üìù Contenido Multiidioma

### Proyectos en MDX

**Espa√±ol**: `agente-llm-proyecto.mdx`

```yaml
---
title: "Agentes LLM para soporte"
summary: "Descripci√≥n"
date: "2025-01-01"
lang: "es"                        # OBLIGATORIO
translationKey: "agente-llm"      # OBLIGATORIO para vincular
tags: ["GenAI", "Agents"]
---
```

**Ingl√©s**: `llm-agent-project.mdx`

```yaml
---
title: "LLM Agents for support"
summary: "Description"
date: "2025-01-01"
lang: "en"                        # OBLIGATORIO
translationKey: "agente-llm"      # MISMA CLAVE
tags: ["GenAI", "Agents"]
---
```

## üîç Obtener Contenido por Idioma

```typescript
import { getProjectsByLang } from '@/lib/i18n-content';

// En p√°ginas espa√±olas
const projects = await getProjectsByLang('es');

// En p√°ginas inglesas
const projects = await getProjectsByLang('en');
```

## üåê URLs Generadas

| Contenido | Espa√±ol | Ingl√©s |
|-----------|---------|--------|
| Home | `/` | `/en` |
| Proyectos | `/work` o `/es/work` | `/en/work` |
| Proyecto | `/work/[slug]` | `/en/work/[slug]` |

## üìã Checklist i18n

### Al Crear Componentes

- [ ] Usar `t()` o `useTranslations()` para texto
- [ ] NO hardcodear strings
- [ ] A√±adir nuevas claves a `src/i18n/ui.ts`
- [ ] Probar en espa√±ol E ingl√©s

### Al Crear Contenido

- [ ] Incluir campo `lang: "es"` o `lang: "en"`
- [ ] Incluir `translationKey` si tiene traducci√≥n
- [ ] Crear versi√≥n en ambos idiomas (opcional)
- [ ] Verificar en `/work` y `/en/work`

### Antes de Commit

- [ ] Build sin errores: `npm run build`
- [ ] Probar en `/` (espa√±ol)
- [ ] Probar en `/en` (ingl√©s)
- [ ] Verificar selector de idioma funciona

## üé® A√±adir Nueva Traducci√≥n

### 1. A√±adir a `src/i18n/ui.ts`

```typescript
export const ui = {
  es: {
    'nueva.clave': 'Texto en espa√±ol',
  },
  en: {
    'nueva.clave': 'Text in English',
  },
} as const;
```

### 2. Usar en Componente

```astro
---
const t = useTranslations(lang);
---

<p>{t('nueva.clave')}</p>
```

## ‚ö†Ô∏è Errores Comunes

### ‚ùå Hardcodear Texto

```tsx
// ‚ùå MAL
<button>Ver proyectos</button>

// ‚úÖ BIEN
<button>{translate('work.viewAll')}</button>
```

### ‚ùå Olvidar Campo lang

```yaml
# ‚ùå MAL
---
title: "Mi Proyecto"
summary: "Descripci√≥n"
---

# ‚úÖ BIEN
---
title: "Mi Proyecto"
summary: "Descripci√≥n"
lang: "es"
translationKey: "mi-proyecto"
---
```

### ‚ùå translationKey Diferente

```yaml
# ‚ùå MAL
# Espa√±ol
lang: "es"
translationKey: "mi-proyecto"

# Ingl√©s
lang: "en"
translationKey: "my-project"  # ‚ùå Diferente

# ‚úÖ BIEN
# Ambos deben tener:
translationKey: "mi-proyecto"
```

## üöÄ Testing i18n

```bash
# Servidor de desarrollo
npm run dev

# Verificar ambos idiomas
http://localhost:4321/      # Espa√±ol
http://localhost:4321/en    # Ingl√©s

# Build y verificar p√°ginas generadas
npm run build
ls -R dist/
```

## üîó Referencias Completas

- **Visi√≥n General**: `/docs/i18n/i18n-overview.md` - Sistema completo
- **Gu√≠a de Contenido**: `/docs/i18n/i18n-content-guide.md` - Crear contenido
- **API Reference**: `/docs/i18n/i18n-api-reference.md` - Todas las funciones

## üìä Claves de Traducci√≥n Disponibles

### Navegaci√≥n (7)
`nav.home`, `nav.work`, `nav.about`, `nav.skills`, `nav.projects`, `nav.contact`, `nav.downloadCV`

### P√°ginas (4)
`home.title`, `home.description`, `site.title`, `site.description`

### Proyectos (6)
`work.title`, `work.viewAll`, `work.caseStudy`, `work.backToProjects`, `work.noProjects`, `work.featured`

### Hero (3)
`hero.greeting`, `hero.role`, `hero.description`

### Com√∫n (4)
`common.readMore`, `common.learnMore`, `common.viewMore`, `common.loading`

### Fechas (2)
`date.updated`, `date.published`

### Labels (6)
`project.role`, `project.tech`, `project.tags`, `project.links`, `project.demo`, `project.repo`

**Total: 47 claves de traducci√≥n**